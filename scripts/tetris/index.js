"use strict";!function(){document.getElementById("pw_submit"),document.getElementById("new_score_2").firstElementChild;window.firebase&&firebase.firestore().collection("tetris").doc("scores").onSnapshot(function(e){if(e.metadata.fromCache&&!e.exists)return document.body.classList.add("no_scores"),document.body.classList.add("scores_err"),void(document.getElementById("scores_msg").firstElementChild.innerText="Connect to the Internet to see scores.");document.body.classList.remove("no_scores"),document.body.classList.remove("scores_err");var t=e.data(),o=t.p.map(function(e){return{owner:"p",value:e}}).concat(t.s.map(function(e){return{owner:"s",value:e}})).sort(function(e,t){return t.value-e.value});window.game=window.game||{updateScores:function(){}},game.scores=o,game.updateScores()}),document.getElementById("retry_scores").addEventListener("click",function(){game.uploadHighScore(game.stats.score),game.updateScores()})}();